(window.webpackJsonp=window.webpackJsonp||[]).push([[7,31],{352:function(t,e,n){},355:function(t,e,n){},356:function(t,e,n){"use strict";n(352)},359:function(t,e,n){"use strict";n.r(e);var a={props:{sidebar:{type:Boolean,default:!1}},computed:{year:()=>(new Date).getFullYear()}},i=(n(356),n(0)),o=Object(i.a)(a,(function(){var t=this,e=t._self._c;return e("div",{class:t.sidebar?"footer-wrapper footer-adapt":"footer-wrapper"},[t._m(0),t._v(" "),t.$themeConfig.record?e("span",[e("i",{staticClass:"iconfont reco-beian"}),t._v(" "),e("a",{attrs:{target:"blank",href:"http://beian.miit.gov.cn"}},[t._v(t._s(t.$themeConfig.record))])]):t._e(),t._v(" "),e("span",[e("i",{staticClass:"iconfont reco-copyright"}),t._v(" "),e("a",[t.$themeConfig.startYear?e("span",[t._v(t._s(t.$themeConfig.startYear)+" - ")]):t._e(),t._v("\n      "+t._s(t.year)+" newobject.cc\n    ")])]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:void 0!==t.$themeConfig.valineConfig,expression:"$themeConfig.valineConfig !== undefined"}]},[e("i",{staticClass:"iconfont reco-eye"}),t._v(" "),e("AccessNumber",{attrs:{idVal:"/"}})],1),t._v(" "),e("div",{staticClass:"other-info"},[t.$themeConfig.footerWeChat?e("img",{attrs:{src:t.$withBase(t.$themeConfig.footerWeChat),alt:"公众号「NO编程」",title:"公众号「NO编程」"}}):t._e()])])}),[function(){var t=this._self._c;return t("span",[t("i",{staticClass:"iconfont reco-theme"}),this._v(" "),t("a",{attrs:{target:"blank",href:"https://vuepress-theme-reco.recoluan.com"}},[this._v("vuepress-theme-reco")])])}],!1,null,"acb96f76",null);e.default=o.exports},367:function(t,e,n){},369:function(t,e,n){"use strict";n(355)},421:function(t,e,n){},422:function(t,e,n){},453:function(t,e,n){},454:function(t,e,n){"use strict";n(421)},455:function(t,e,n){"use strict";n(422)},485:function(t,e,n){"use strict";n.r(e);n(8),n(28),n(48),n(22),n(50);var a=n(381),i=n(359),o=n(378),r=(n(453),n(367),{mixins:[o.a],name:"Tool",components:{Common:a.default,Footer:i.default},data:()=>({Pickr:null,watermark:null,Swal:null,loadImage:null,dataURLtoBlob:null,Canvas2Image:null,img:"",watermarkText:"仅用于XXX办理，他用无效。",fontSize:48,fontColor:"#fff",fontAlpha:1,textSpaceX:80,textSpaceY:200,textRotationAngle:-45,fontType:"Microsoft YaHei",supportFontTypes:[]}),props:{},computed:{},created(){},mounted(){n.e(39).then(n.t.bind(null,470,7)).then(t=>{this.Pickr=t.default,this.initPickr()}),n.e(61).then(n.t.bind(null,471,7)).then(t=>{this.watermark=t.default}),n.e(60).then(n.t.bind(null,472,7)).then(t=>{this.Swal=t.default}),n.e(21).then(n.t.bind(null,473,7)).then(t=>{this.loadImage=t.default}),n.e(40).then(n.t.bind(null,474,7)).then(t=>{this.dataURLtoBlob=t.default}),n.e(37).then(n.bind(null,475)).then(t=>{this.Canvas2Image=t.default}),this.initSupportFontFamily2Select(this.dataFont())},methods:{initPickr(){let t=this;t.Pickr.create({el:".color-picker",theme:"nano",default:"#00000080",appClass:"color-custom-class",container:".color-picker-container",autoReposition:!1,swatches:["rgba(66, 68, 90, 1)","rgba(233, 30, 99, 0.95)","rgba(156, 39, 176, 0.9)","rgba(103, 58, 183, 0.85)","rgba(63, 81, 181, 0.8)","rgba(33, 150, 243, 0.75)","rgba(3, 169, 244, 0.7)"],components:{preview:!0,opacity:!0,hue:!0,interaction:{input:!0,save:!0,cancel:!0}},i18n:{"btn:save":"确定","btn:cancel":"取消"}}).on("init",e=>{let n=e.getColor(),a=n.toHEXA().toString();t.fontColor=a.length>7?a.substr(0,7):a,t.fontAlpha=n.toRGBA()[3]}).on("save",(e,n)=>{let a=e.toHEXA().toString();t.fontColor=a.length>7?a.substr(0,7):a,t.fontAlpha=e.toRGBA()[3],n.hide(),t.handleFontColorAndAlpha(t.fontColor+"-"+t.fontAlpha)})},rotate(t){let e=t.getContext("2d");e.globalAlpha=this.fontAlpha,e.fillStyle=this.fontColor,e.font=this.fontSize+"px "+this.fontType,e.textBaseline="top";let n=this.watermarkText,a=e.measureText(n),i=t.height,o=t.width,r=a.width,s=this.textSpaceY+this.fontSize,l=r-Math.cos(this.textRotationAngle*Math.PI/180)*r,c=this.textRotationAngle>0?s:0,u=Math.ceil(o/(r-l))+2,p=Math.ceil(i/s)+2;for(let t=0;t<=u;t++)for(let a=0;a<=p;a++)e.save(),e.translate((r-l+this.textSpaceX)*t,s*a-c),e.rotate(this.textRotationAngle*Math.PI/180),e.fillText(n,0,0),e.restore();return t},addWatermark(t){this.watermark([t]).image(this.rotate).then((function(t){let e=document.getElementById("draw-area");e.innerHTML="",t.className="animate__animated animate__pulse",e.appendChild(t)}))},changeFile(t){let e=this,n=t.target.files[0];if(n)if(-1!=n.type.indexOf("image")){let t=new FileReader;t.readAsDataURL(n),t.onloadend=function(){let t=this.result;e.handleImg(t)}}else this.Swal.fire({title:"格式有误",text:"请选择图片文件!",icon:"warning",confirmButtonText:"确定",confirmButtonColor:"#69a4de",showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutUp"}})},handleWatermarkText(t){""!=this.img&&this.addWatermark(this.img)},handleTextSpaceY(t){""!=this.img&&this.addWatermark(this.img)},handleTextSpaceX(t){""!=this.img&&this.addWatermark(this.img)},handleFontSize(t){""!=this.img&&this.addWatermark(this.img)},handleFontColorAndAlpha(t){""!=this.img&&this.addWatermark(this.img)},handleFontType(t){""!=this.img&&this.addWatermark(this.img)},handleImg(t){this.img=t,""!=this.img&&this.addWatermark(this.img)},verifyInt(t,e){let n=parseInt((t+"").replace(/[^\d]/g,""));return n<=e||isNaN(n)?e:n},rotateImg(){let t=this;if(""!=t.img){let e=t.dataURLtoBlob(t.img);t.loadImage(e,(function(e){let n=e,a=t.Canvas2Image.convertToJPEG(n,n.width,n.height);t.handleImg(a.src)}),{canvas:!0,orientation:6})}},save(){let t=this,e=document.getElementById("draw-area").children[0];if(e){let n=t.dataURLtoBlob(e.src);t.loadImage(n,(function(e){let n=e;t.Canvas2Image.saveAsJPEG(n,n.width,n.height)}),{canvas:!0})}},dataFont:()=>({windows:[{ch:"宋体",en:"SimSun"},{ch:"黑体",en:"SimHei"},{ch:"微软雅黑",en:"Microsoft YaHei"},{ch:"微软正黑体",en:"Microsoft JhengHei"},{ch:"楷体",en:"KaiTi"},{ch:"新宋体",en:"NSimSun"},{ch:"仿宋",en:"FangSong"}],"OS X":[{ch:"苹方",en:"PingFang SC"},{ch:"华文黑体",en:"STHeiti"},{ch:"冬青黑体简",en:"Hiragino Sans GB"},{ch:"兰亭黑-简",en:"Lantinghei SC"},{ch:"翩翩体-简",en:"Hanzipen SC"},{ch:"手札体-简",en:"Hannotate SC"},{ch:"宋体-简",en:"Songti SC"},{ch:"娃娃体-简",en:"Wawati SC"},{ch:"魏碑-简",en:"Weibei SC"},{ch:"行楷-简",en:"Xingkai SC"},{ch:"雅痞-简",en:"Yapi SC"},{ch:"圆体-简",en:"Yuanti SC"}],office:[{ch:"幼圆",en:"YouYuan"},{ch:"隶书",en:"LiSu"},{ch:"华文细黑",en:"STXihei"},{ch:"华文楷体",en:"STKaiti"},{ch:"华文宋体",en:"STSong"},{ch:"华文仿宋",en:"STFangsong"},{ch:"华文中宋",en:"STZhongsong"},{ch:"华文彩云",en:"STCaiyun"},{ch:"华文琥珀",en:"STHupo"},{ch:"华文新魏",en:"STXinwei"},{ch:"华文隶书",en:"STLiti"},{ch:"华文行楷",en:"STXingkai"},{ch:"方正舒体",en:"FZShuTi"},{ch:"方正姚体",en:"FZYaoti"}],open:[{ch:"思源黑体",en:"Source Han Sans CN"},{ch:"思源宋体",en:"Source Han Serif SC"}]}),isSupportFontFamily(t){if("string"!=typeof t)return!1;var e="Arial";if(t.toLowerCase()==e.toLowerCase())return!0;var n=100,a=100,i=document.createElement("canvas"),o=i.getContext("2d");i.width=n,i.height=a,o.textAlign="center",o.fillStyle="black",o.textBaseline="middle";var r=function(t){o.clearRect(0,0,n,a),o.font="100px "+t+", "+e,o.fillText("a",50,50);var i=o.getImageData(0,0,n,a).data;return[].slice.call(i).filter((function(t){return 0!=t}))};return r(e).join("")!==r(t).join("")},initSupportFontFamily2Select(t){let e=this,n=[],a=[],i=(document.documentElement.currentStyle?document.documentElement.currentStyle:window.getComputedStyle(document.documentElement)).fontFamily;i=i.replace(/\"|\'/g,""),Object.keys(t).forEach((function(e){n.push(...t[e])})),Object.keys(n).forEach((function(t){if(e.isSupportFontFamily(n[t].en)){let e={text:n[t].ch,value:n[t].en};i==e.value?a.unshift(e):a.push(e)}})),e.fontType=a[0].value,e.supportFontTypes=a}}}),s=(n(369),n(454),n(455),n(0)),l=Object(s.a)(r,(function(){var t=this,e=t._self._c;return e("div",[e("Common",{attrs:{sidebar:!1,isComment:!1}},[e("div",{staticClass:"tool-wrapper"},[e("div",{staticClass:"view-area",attrs:{onclick:"javascript:{if(event.target !== this) return;choose_upload_file.click()}"}},[e("div",{staticClass:"tool-reminder"},[t._v("提示：为保证个人信息安全，图片信息不会被上传，水印添加完全由前端处理。")]),t._v(" "),e("div",{attrs:{id:"draw-area"}})]),t._v(" "),e("div",{staticClass:"control-area"},[e("div",{staticClass:"tool-input"},[e("div",{staticClass:"tool-input-prepend"},[t._v("水 印")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.watermarkText,expression:"watermarkText"}],staticClass:"tool-input-inner",attrs:{type:"text",placeholder:"请输入水印内容"},domProps:{value:t.watermarkText},on:{blur:function(e){return t.handleWatermarkText(t.watermarkText)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleWatermarkText(t.watermarkText)},input:function(e){e.target.composing||(t.watermarkText=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"tool-input m-top"},[e("div",{staticClass:"tool-input-prepend"},[t._v("间 距")]),t._v(" "),e("div",{staticClass:"tool-input-inner"},[e("div",{staticClass:"tool-input-inner-item p-right b-right w-percent50"},[e("div",[t._v("上下")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.textSpaceY,expression:"textSpaceY",modifiers:{number:!0}}],staticClass:"tool-input-inner-item-input",attrs:{type:"text",maxlength:"4"},domProps:{value:t.textSpaceY},on:{blur:[function(e){return t.handleTextSpaceY(t.textSpaceY)},function(e){return t.$forceUpdate()}],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleTextSpaceY(t.textSpaceY)},input:[function(e){e.target.composing||(t.textSpaceY=t._n(e.target.value))},function(e){t.textSpaceY=t.verifyInt(t.textSpaceY,0)}]}}),t._v(" "),e("div",[t._v("px")])]),t._v(" "),e("div",{staticClass:"tool-input-inner-item p-right p-left w-percent50"},[e("div",[t._v("左右")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.textSpaceX,expression:"textSpaceX",modifiers:{number:!0}}],staticClass:"tool-input-inner-item-input",attrs:{type:"text",maxlength:"4"},domProps:{value:t.textSpaceX},on:{blur:[function(e){return t.handleTextSpaceX(t.textSpaceX)},function(e){return t.$forceUpdate()}],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleTextSpaceX(t.textSpaceX)},input:[function(e){e.target.composing||(t.textSpaceX=t._n(e.target.value))},function(e){t.textSpaceX=t.verifyInt(t.textSpaceX,0)}]}}),t._v(" "),e("div",[t._v("px")])])])]),t._v(" "),e("div",{staticClass:"tool-input m-top"},[e("div",{staticClass:"tool-input-prepend"},[t._v("字 体")]),t._v(" "),e("div",{staticClass:"tool-input-inner"},[e("div",{staticClass:"tool-input-inner-item p-right b-right mobile-w-percent50"},[e("div",{staticClass:"color-picker"}),t._v(" "),e("div",{staticClass:"color-picker-container"})]),t._v(" "),e("div",{staticClass:"tool-input-inner-item p-right2 p-left2 b-right mobile-w-percent50 mobile-b-right"},[e("div",[t._v("大小")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.fontSize,expression:"fontSize",modifiers:{number:!0}}],staticClass:"tool-input-inner-item-input",attrs:{type:"text",maxlength:"4"},domProps:{value:t.fontSize},on:{blur:[function(e){return t.handleFontSize(t.fontSize)},function(e){return t.$forceUpdate()}],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleFontSize(t.fontSize)},input:[function(e){e.target.composing||(t.fontSize=t._n(e.target.value))},function(e){t.fontSize=t.verifyInt(t.fontSize,1)}]}}),t._v(" "),e("div",[t._v("px")])]),t._v(" "),e("div",{staticClass:"tool-input-inner-item p-left2 mobile-font-hide"},[e("div",[t._v("字体")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.fontType,expression:"fontType"}],staticClass:"f-family",on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.fontType=e.target.multiple?n:n[0]},function(e){return t.handleFontType(t.fontType)}]}},t._l(t.supportFontTypes,(function(n){return e("option",{domProps:{value:n.value}},[t._v("\n                  "+t._s(n.text)+"\n                ")])})),0)])])]),t._v(" "),e("div",{},[e("div",{staticClass:"tool-button-area m-top"},[e("div",{staticClass:"tool-upload"},[e("button",{staticClass:"tool-button",attrs:{type:"button",onclick:"choose_upload_file.click()"}},[e("svg",{staticClass:"icon",staticStyle:{width:"1em",height:"1em",fill:"currentColor",overflow:"hidden","vertical-align":"text-top"},attrs:{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2574"}},[e("path",{attrs:{d:"M418.688 133.333333a122.666667 122.666667 0 0 1 93.013333 42.666667H785.066667a186.666667 186.666667 0 0 1 186.581333 181.162667l0.085333 5.504v17.92h-0.256c0.170667 1.429333 0.256 2.88 0.256 4.373333V789.333333a186.666667 186.666667 0 0 1-186.666666 186.666667H238.933333A186.666667 186.666667 0 0 1 52.266667 789.333333V320a186.666667 186.666667 0 0 1 186.666666-186.666667z m0 74.666667H238.933333A112 112 0 0 0 126.933333 320v469.333333c0 61.866667 50.133333 112 112 112h546.133334c61.866667 0 112-50.133333 112-112V422.272H615.04a122.666667 122.666667 0 0 1-113.834667-76.992l-1.834666-4.842667-35.413334-100.416a48 48 0 0 0-45.269333-32.021333zM448 688a37.333333 37.333333 0 0 1 3.072 74.538667L448 762.666667h-170.666667a37.333333 37.333333 0 0 1-3.072-74.538667L277.333333 688h170.666667z m337.066667-437.333333H546.88l22.912 64.917333a48 48 0 0 0 41.685333 31.914667l3.562667 0.128 281.024-0.021334a112.021333 112.021333 0 0 0-106.389333-96.853333l-4.608-0.085333z","p-id":"2575"}})]),t._v(" "),e("span",{},[t._v("选择文件")])]),t._v(" "),e("input",{staticClass:"tool-upload-input",attrs:{id:"choose_upload_file",type:"file",name:"file",accept:"image/png,image/jpeg,image/gif,image/jpg"},on:{change:function(e){return t.changeFile(e)}}})]),t._v(" "),e("button",{staticClass:"tool-button",attrs:{type:"button"},on:{click:function(e){return t.rotateImg()}}},[e("svg",{staticClass:"icon",staticStyle:{width:"1em",height:"1em","vertical-align":"text-top",fill:"currentColor",overflow:"hidden"},attrs:{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7517"}},[e("path",{attrs:{d:"M970.229374 495.328185C963.472589 234.667019 750.210521 25.401445 487.923663 25.401445 229.709504 25.401445 18.852106 228.189651 5.92277 483.194761 18.877507 214.159586 241.080884 0 513.325109 0 789.642031 0 1014.267013 220.636954 1021.032264 495.328185L970.229374 495.328185ZM734.368486 971.825431 705.165291 912.572326C853.374258 835.707553 956.470257 682.807786 961.237262 504.10015 968.231127 242.312855 761.691974 24.43619 499.913146 17.442326 423.454795 15.401743 350.806661 31.68407 285.999107 62.123468L285.177794 60.446973C317.192082 44.63034 351.306223 31.870347 387.359341 22.844367 659.544295-45.239974 935.395525 120.208107 1003.488333 392.401528 1062.724503 629.193802 945.158147 868.695563 734.368486 971.825431ZM749.685558 959.844416C542.172684 1068.909755 293.755015 1020.011973 141.464883 856.164183 126.147811 849.788421 115.369131 834.708429 115.369131 817.079826 115.369131 793.702029 134.327077 774.744084 157.704874 774.744084 173.081215 774.744084 186.408507 783.024955 193.825729 795.285386L195.299013 794.006846C303.416031 906.628388 465.621194 962.316823 629.45205 927.042683 880.816286 872.92067 1040.709917 625.273512 986.587905 373.909276 971.152293 302.209463 939.916982 237.986142 897.394963 184.016537L900.51934 181.298583C924.18502 209.223238 945.285154 240.035192 963.02383 273.785245 1093.561858 522.152111 998.043956 829.306388 749.685558 959.844416Z","p-id":"7518"}})]),t._v(" "),e("span",{},[t._v("旋转")])]),t._v(" "),e("button",{staticClass:"tool-button",attrs:{type:"button"},on:{click:function(e){return t.save()}}},[e("svg",{staticClass:"icon",staticStyle:{width:"1em",height:"1em",fill:"currentColor",overflow:"hidden","vertical-align":"text-top"},attrs:{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3310"}},[e("path",{attrs:{d:"M925.248 356.928l-258.176-258.176a64 64 0 0 0-45.248-18.752H144a64 64 0 0 0-64 64v736a64 64 0 0 0 64 64h736a64 64 0 0 0 64-64V402.176a64 64 0 0 0-18.752-45.248zM288 144h192V256H288V144z m448 736H288V736h448v144z m144 0H800V704a32 32 0 0 0-32-32H256a32 32 0 0 0-32 32v176H144v-736H224V288a32 32 0 0 0 32 32h256a32 32 0 0 0 32-32V144h77.824l258.176 258.176V880z","p-id":"3311"}})]),t._v(" "),e("span",{},[t._v("保存")])])])])])])]),t._v(" "),e("Footer",{staticClass:"footer",attrs:{sidebar:!1}})],1)}),[],!1,null,"ef960308",null);e.default=l.exports}}]);